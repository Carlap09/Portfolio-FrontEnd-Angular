<div class="row apti main-container">
    <div class="row apti main-container">
        <h1>Aptitudes y validaciones</h1>
        <div class="row">
            <div id="main-container">
                <div m-5>
                    <button type="button" class="btn btn outline-success" (click)="onOpenModal('add')">
                        <a class="nav-link" style="color: #022278">
                        Agregar aptitudes <span class="sr-only"> (current) </span>
                        </a>
                    </button>
                    </div>
                <div *ngFor="let aptitudes of aptitudes" class="col-lg-12">
                    <div class="container">
                        
                        <div class="row aling-items-start">
                            <div class="text-center col-sm-4 col-md-4 col-lg-4">
                            <circle-progress
                            [percent]="60"
                            [radius]="50"
                            [showUnits]="false"
                            [title]="'{{ aptitudes.nombreApti }}'"
                            [titleColor]="'#022278'"
                            [titleFontSize]="'3m'"
                            [showSubtitle]="false"
                            [outerStrokeWidth]="5"
                            [innerStrokeWidth]="2"
                            [outerStrokeColor]="'#022278'"
                            [innerStrokeColor]="'#022278'"
                            [animation]="true"
                            [animationDuration]="600"
                            ></circle-progress>
                            <img src="{{aptitudes.fotoApti}}" alt=""  width="150">
                            </div>
                            <div class="col">
                                
                            </div>
                            <div class="col text-center">
                                <h3>{{ aptitudes.porcentaje}}</h3>
                                <a
                                    (click)="onOpenModal('edit', aptitudes)"
                                    class="btn btn-outline-light tooltips "
                                    data-placement="top"
                                    data-toggle="tooltip"
                                    data-original-title="Edit"
                                ><i class="fa fa-pencil"></i>
                                </a>
                                <a
                                    (click)="onOpenModal('delete', aptitudes)"
                                    class="btn btn outline-ligh tooltips"
                                    data-placement="top"
                                    data-toggle="tooltip"
                                    data-original-title="Delete"
                                ><i class="fa fa-times"></i>
                                </a>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col aling-self-end">
                                <p>{{ aptitudes.nombreApti }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>               
        <!-- Add Employee Modal-->
        <div 
        class="modal fade"
        id="addAptitudesModal" 
        tabindex="-1" 
        role="dialog" 
        aria-labelledby="addAptitudesModalLabel" 
        aria-hidden="true"
    >
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addAptitudesModalLabel">Agregar Aptitudes</h5>
                <button
                type="button" 
                class="close" 
                data-dismiss="modal" 
                aria-label="Close"
                >
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form #addForm="ngForm" (ngSubmit)="onAddAptitudes(addForm)">
                    <div class="form-group">
                        <label for="name">Nombre</label>
                        <input 
                        type="text"
                        ngModel
                        name="nombreApti"
                        class="form-control"
                        id="nombreApti"
                        placeholder="Nombre"
                        required
                        />
                    </div>
                    <div class="form-group">
                        <label for="fotoApti">Imagen</label>
                        <input 
                        type="text"
                        ngModel
                        name="fotoApti"
                        class="form-control"
                        id="fotoApti"
                        placeholder="imagen"
                        required
                        >
                    </div>
                    <div class="form-group">
                        <label for="porcentaje">Porcentaje</label>
                        <input 
                        type="text"
                        ngModel
                        name="porcentaje"
                        class="form-control"
                        id="porcentaje"
                        placeholder="porcentaje"
                        />
                        </div>
                        <div class="model-footer">
                                <button
                                type="button"
                                id="add-aptitudes-form"
                                class="btn btn-secondary"
                                data-dismiss="modal"
                                >
                                Cerrar
                                </button>
                                <button
                                [disabled]="addForm.invalid"
                                type="submit"
                                class="btn btn-primary"
                                > a√±adir cambios
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!--Edit modal--> 
        <div
            class="modal fade" 
            id= "editAptitudesModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="aptitudesEditModalLabel"
            aria-hidden="true"
        >
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="updateAptitudesModalLabel">
                        Editar {{ editAptitudes?.nombreApti }}
                    </h5>
                    <button
                        type="button" 
                        class="close"
                        data-dismiss="modal"
                        aria-label="Close"
                    >
                        <span aria-hidden="true">&times;</span>
                    </button>
                    </div>
                    <div class="modal-body">
                        <form #editForm="ngForm">
                        <div class="form-group">
                            <label for="name">Nombre</label>
                            <input
                            type="text"
                            ngModel="{{ editAptitudes?.nombreApti}}"
                            name="nombreApti"
                            class="form-control"
                            id="nombreApti"
                            aria-describedby="emailHelp"
                            placeholder="Nombre"
                            >
                        </div>
                        <input
                        type="hidden"
                        ngModel="{{ editAptitudes?.idApti}}"
                        name="idApti"
                        class="form-control"
                        id="idApti"
                        placeholder=""
                        />
                        <div class="form-group">
                            <label for="fotoApti">Imagen</label>
                                <input 
                                type="text"
                                ngModel="{{editAptitudes?.fotoApti}}"
                                name="fotoApti"
                                class="form-control"
                                id="fotoApti"
                                placeholder="Job title"
                                >
                        </div>
                        <div class="form-group">
                            <label for="porcentaje">Porcentaje</label>
                            <input
                                type="text"
                                ngModel="{{editAptitudes?.porcentaje}}"
                                name="porcentaje"
                                class="form-control"
                                id="porcentaje"
                                placeholder="job title"
                                />                                       
                        </div>
                        <div class="model-footer">
                                <button
                                    type="button"
                                    id=""
                                    data-dismiss="modal"
                                    class="btn btn-secondary"
                                >
                                    Cerrar
                                </button>
                                <button
                                        (click)="onUpdateAptitudes(editForm.value)"
                                        data-dismiss="modal"
                                        class="btn btn-primary"
                                    >
                                    Guardar cambios
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!-- Delete modal -->
        <div
        data-bs-toggle="modal" data-bs-target="#deleteModelLabel"
            class="modal fade"
            id="deleteAptitudesModal"
            tabindex="-1"
            role="dialog"
            aria-labelledby="deleteModelLabel"
            aria-hidden="true"
        >
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deleteModelLabel">Borrar Aptitud</h5>
                        <button
                            type="button"
                            class="close" 
                            data-dismiss="modal"
                            aria-label="Close"
                        >
                            <span aria-hidden="true">&times;</span>
                        </button>
                    </div>
                    <div class="modal-body">
                        <p>
                        esta seguro que quiere eliminar?
                        {{deleteAptitudes?.nombreApti}}?
                    </p>
                    <div class="modal-footer">
                        <button
                            type="button"
                            class="btn btn-secondary"
                            data-dismiss="modal"
                        >
                            No
                        </button>
                        <button
                            (click)="onDeleteAptitudes(deleteAptitudes!.idApti)"
                            class="btn btn-danger"
                            data-dismiss="modal"
                        >
                            Si
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Notificacion for no employes-->
    <div *ngFor="aptitudes?.legth== 0" class="col-lg-12 col-md-12 col-xl-12">
        <div class="alert alert-info" role="alert">
            <h4 class="alert-heading">No hay aptitudes!</h4>
            <p>aptitudes no encontradas</p>
        </div>
    </div>
</div>


